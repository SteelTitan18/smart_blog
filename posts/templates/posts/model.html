{% load static %}

<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <title>Smart Sharing</title>
    <link rel="stylesheet" href="{% static 'posts/styles.css' %}" />
    <link href="{% static 'fontawesomefree/css/fontawesome.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'fontawesomefree/css/brands.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'fontawesomefree/css/solid.css' %}" rel="stylesheet" type="text/css"/>
  </head>

  <body>
    <header>
      <h1  id="title">Smart Sharing</h1>
      <nav>
        <a href="{% url 'home' %}" style="font-weight: bold; text-align: left; font-size: x-large;"><i class="fa-solid fa-house"></i>&nbsp&nbsp&nbspAcceuil</a>
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        {% if request.user.is_authenticated %}
          <div class="popup" onclick="myFunction()"><button class="user-menu">
          {% if request.user.image %}
            <img class="profile-image-resize" src="{{ request.user.image.url }}" alt="Photo de profil">&nbsp
          {% else %}
            <i class="fa-solid fa-circle-user"></i>
          {% endif %}
          <span class="username">{{user }}</span></button>
            <span class="popuptext" id="myPopup">
              <a href="{% url 'profile' %}"><i class="fa-solid fa-user-pen"></i>&nbsp&nbsp&nbsp Mon profil</a><br/>
              <a href="{% url 'my-posts' %}"><i class="fa-solid fa-newspaper"></i>&nbsp&nbsp&nbsp Mes articles</a><br/>
              <a href="{% url 'logout' %}"><i class="fa-solid fa-right-from-bracket"></i>&nbsp&nbsp&nbsp Se d√©connecter</a>
            </span>
          </div>
        {% else %}
          <a href="{% url 'connexion' %}"><i class="fa-solid fa-right-to-bracket"></i>&nbsp&nbsp<span  style="font-weight: bold; font-size: x-large;">Se connecter</span></a>
        {% endif %}
      </nav>
    </header>

    <main>
      {% block content%}{% endblock %}
      <script>
    // When the user clicks on <div>, open the popup
        function myFunction() {
          var popup = document.getElementById("myPopup");
          popup.classList.toggle("show");
        }
      </script>
    </main>

  </body>

</html>
